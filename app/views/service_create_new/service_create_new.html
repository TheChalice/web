
<div class="ser_create_new">
    <div class="create_new_nav">
        <div class="create_new_nav_top">
            <span ng-click="back()" class="cnew_back"><i class="btn_create_set back_jia_btn"></i>返回</span>
            <span class="cnew_tit">{{btnText.four}}</span>
        </div>
        <div class="create_new_modal">
            <div>
                <span class="cnew_back" ng-click="close()"><i class="btn_create_set close_jia_btn"></i> 关闭</span><span class="cnew_tit">{{name}}</span>
            </div>
            <div ng-show="isShowmodal.selectimage">
                <div class="content">
                    <div class="selectimage_main_set">
                    <div class="selectimage_main">
                        <div class="searchbar_image" id="search_public_block">
                            <input type="text" class="search_public_l" ng-model="imagesearch"  placeholder="请输入镜像名称">
                            <span class="search_public_btn"></span>
                            <!--<input type="text" class="form-control" ng-model="imagesearch"  placeholder="请输入镜像名称">-->
                        </div>
                        <div class="select_main_block">

                        <uib-tabset class="tab_image" active="checkimage">
                            <uib-tab index="1">
                                <uib-tab-heading>
                                    构建镜像
                                </uib-tab-heading>
                                <div class="select_block_one create_two_block">
                                    <div class="two_tab_detail" ng-repeat="item in images">
                                        <div class="two_tab_l">
                                            <img src="views/service_detail_new/img/nor_pic.png" class="two_tab_pic">
                                            <div class="two_tab_tit">
                                                <span class="two_tab_ellipsis">{{item.metadata.name}}</span>
                                                <!--<span class="two_tab_ellipsis">{{item.metadata.name}}是开源的消息是开源的消息</span>-->
                                            </div>
                                        </div>

                                        <div class="two_tab_r">
                                            <span class="version_tit">版本</span>
                                            <div class="service_area_select two_radius">
                                                <div uib-dropdown="" on-toggle="toggled(open)" class="dropdown">
                                                    <a href="javascript:void(0);" class="service_block dropdown-toggle" uib-dropdown-toggle="" aria-haspopup="true" aria-expanded="false">
                                                        <span class="service_per_tit service_copy_tit two_tab_ellipsis" title="{{item.checkbox}}">{{item.checkbox}}</span>
                                                        <b class="ser_bg_btn"></b>
                                                    </a>
                                                    <ul class="service_drop service_drop_select dropdown-menu" uib-dropdown-menu="" aria-labelledby="user-menu">
                                                        <li class="zx_active" ng-repeat="tag in item.status.tags" ng-click="item.checkbox=tag.tag"><a href="javascript:void(0);"><span class="drop_name_tit drop_name_tit_two two_tab_ellipsis" title="{{tag.tag}}">{{tag.tag}}</span></a></li>
                                                    </ul>

                                                </div>
                                            </div>
                                            <span class="change_tit" ng-click="checkboximage(item)">使用</span>
                                        </div>
                                    </div>


                                </div>


                            </uib-tab>
                            <uib-tab index="2" >
                                <uib-tab-heading ng-click="changeimage('df')">
                                    平台私有镜像
                                </uib-tab-heading>
                                <div class="select_block_one create_two_block">
                                        <div class="no_sql">
                                            <div class="no_mql"></div>
                                            <p>无镜像数据</p>
                                        </div>


                                </div>
                            </uib-tab>

                            <uib-tab index="3">
                                <uib-tab-heading>
                                    平台公有镜像
                                </uib-tab-heading>
                                <div class="new-loading" ng-show="!dfimage">
                                    <img style="height:30px;width:30px;margin-left:5px;" src="pub/img/logo.gif" alt=""><br>
                                    <span style="color:#666">加载中...</span>
                                </div>
                                <div class="select_block_one create_two_block">
                                    <div class="two_tab_detail"  ng-repeat="item in dfimage" ng-show="dfimage">
                                        <div class="two_tab_l">
                                            <img src="views/service_detail_new/img/nor_pic.png" class="two_tab_pic">
                                            <div class="two_tab_tit">
                                                <span class="two_tab_ellipsis">{{item.metadata.showname}}</span>
                                                <!--<span class="two_tab_ellipsis">{{item.metadata.showname}} 是开源的消息是开源的消息</span>-->
                                            </div>
                                        </div>

                                        <div class="two_tab_r">
                                            <span class="version_tit">版本</span>
                                            <div class="service_area_select two_radius">
                                                <div uib-dropdown="" on-toggle="toggled(open)" class="dropdown">
                                                    <a href="javascript:void(0);" class="service_block dropdown-toggle" uib-dropdown-toggle="" aria-haspopup="true" aria-expanded="false">
                                                        <span class="service_per_tit service_copy_tit two_tab_ellipsis" title="{{item.checkbox}}">{{item.checkbox}}</span>
                                                        <b class="ser_bg_btn"></b>
                                                    </a>
                                                    <ul class="service_drop dropdown-menu" uib-dropdown-menu="" aria-labelledby="user-menu">
                                                        <li class="zx_active"  ng-repeat="tag in item.status.tags" ng-click="item.checkbox=tag.tag"><a href="javascript:void(0);"><span>{{tag.tag}}</span></a></li>

                                                    </ul>

                                                </div>
                                            </div>
                                            <span class="change_tit" ng-click="checkboximage(item)">使用</span>
                                        </div>
                                    </div>


                                </div>
                            </uib-tab>

                            <uib-tab index="4">
                                <uib-tab-heading>
                                    DockerHub镜像
                                </uib-tab-heading>
                                <div class="new-loading" ng-show="!docimage">
                                    <img style="height:30px;width:30px;margin-left:5px;" src="pub/img/logo.gif" alt=""><br>
                                    <span style="color:#666;">加载中...</span>
                                </div>
                                <div class="select_block_one create_two_block">
                                    <div class="two_tab_detail"  ng-repeat="item in docimage" ng-show="docimage">
                                        <div class="two_tab_l">
                                            <img src="views/service_detail_new/img/nor_pic.png" class="two_tab_pic">
                                            <div class="two_tab_tit">
                                                <span class="two_tab_ellipsis">{{item.metadata.showname}}</span>
                                                <!--<span class="two_tab_ellipsis">{{item.metadata.showname}} 是开源的消息是开源的消息</span>-->
                                            </div>
                                        </div>

                                        <div class="two_tab_r">
                                            <span class="version_tit">版本</span>
                                            <div class="service_area_select two_radius">
                                                <div uib-dropdown="" on-toggle="toggled(open)" class="dropdown">
                                                    <a href="javascript:void(0);" class="service_block dropdown-toggle" uib-dropdown-toggle="" aria-haspopup="true" aria-expanded="false">
                                                        <span class="service_per_tit service_copy_tit two_tab_ellipsis" title="{{item.checkbox}}">{{item.checkbox}}</span>
                                                        <b class="ser_bg_btn"></b>
                                                    </a>
                                                    <ul class="service_drop dropdown-menu" uib-dropdown-menu="" aria-labelledby="user-menu">
                                                        <li class="zx_active"  ng-repeat="tag in item.status.tags" ng-click="item.checkbox=tag.tag"><a href="javascript:void(0);"><span>{{tag.tag}}</span></a></li>

                                                    </ul>

                                                </div>
                                            </div>
                                            <span class="change_tit" ng-click="checkboximage(item)">使用</span>
                                        </div>
                                    </div>

                                </div>
                            </uib-tab>

                        </uib-tabset>

                        </div>
                    </div>
                    </div>
                </div>
            </div>
            <div ng-show="isShowmodal.backservice">
                <div class="content">
                    <div class="backservice">
                        <div class="left">
                            <span>可选择</span>
                            <div ng-show="bsi.work.length>0" style="overflow:auto;">
                                <div class="two_tab_detail two_tab_detail_service" ng-repeat="bsi in bsi.work">
                                    <div class="two_tab_l">
                                        <img src="views/service_detail_new/img/hd_pic.png" class="two_tab_pic">
                                        <div class="two_tab_tit">
                                            <span class="two_tab_ellipsis">{{bsi.metadata.name}}</span>
                                            <!--<span class="two_tab_ellipsis">{{bsi.metadata.name}}是开源的消息是开源的消息</span>-->
                                        </div>
                                    </div>

                                    <div class="two_tab_r">
                                        <span class="change_tit" ng-click="addbsi(bsi)">选择</span>
                                    </div>
                                </div>

                            </div>
                            <div ng-show="bsi.work.length===0" style="overflow:auto;">
                                <div class="noData">
                                    <span class="noImage"></span>
                                    <p>无可选择的服务</p>
                                </div>
                            </div>
                        </div>
                        <div class="middle">
                            <span></span>
                        </div>
                        <div class="right">
                            <span>已选择</span>
                            <div ng-show="bsi.check.length>0" style="overflow:auto">
                                <div class="two_tab_detail two_tab_detail_service"  ng-repeat="bsi in bsi.check">
                                    <div class="two_tab_l">
                                        <img src="views/service_detail_new/img/hd_pic.png" class="two_tab_pic">
                                        <div class="two_tab_tit">
                                            <span class="two_tab_ellipsis">{{bsi.metadata.name}}</span>
                                            <!--<span class="two_tab_ellipsis">{{bsi.metadata.name}} 是开源的消息是开源的消息</span>-->
                                        </div>
                                    </div>

                                    <div class="two_tab_r">
                                        <span class="change_tit" ng-click="delbsi(bsi)">删除</span>
                                    </div>
                                </div>
                            </div>
                            <div ng-show="bsi.check.length===0" style="overflow:auto;">
                                <div class="noData">
                                    <span class="noImage"></span>
                                    <p>未选择任何后端服务</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="two-button">
                    <a href="javascript:void(0)" ng-click="close('cancelbsi')">取消</a>
                    <a href="javascript:void(0)" ng-click="close()">确定</a>
                </div>
            </div>
            <div ng-show="isShowmodal.createservice">
                <div class="content">
                    <div class="create_service_block">
                    <div class="create_service">
                        <div class="ser_sort">
                            <p class="sort_tit">服务分类</p>
                            <ul class="serveClassify">
                                <li ng-repeat='item in cation'  ng-class='{"active":marketclass.serviceCat == $index}' ng-click="selectServe('serviceCat', $index)">
                                    <span>{{item}}</span>
                                </li>
                                <!--<li><span>计算</span></li>-->
                                <!--<li><span>存储</span></li>-->
                                <!--<li><span>消息</span></li>-->
                                <!--<li><span>键值存储</span></li>-->
                                <!--<li><span>分布式协调</span></li>-->
                            </ul>
                        </div>
                        <div class="clear"></div>
                        <div class="ser_sort">
                            <p class="sort_tit">服务提供者</p>
                            <ul>
                                <li ng-repeat='item in providers'  ng-class='{"active":marketclass.vendor == $index}' ng-click="selectServe('vendor', $index)">
                                    <span>{{item}}</span>
                                </li>
                                <!--<li class="active"><span>数据库</span></li>-->
                                <!--<li><span>计算</span></li>-->
                                <!--<li><span>存储</span></li>-->
                                <!--<li><span>消息</span></li>-->
                                <!--<li><span>键值存储</span></li>-->
                                <!--<li><span>分布式协调</span></li>-->
                            </ul>
                        </div>
                        <div class="clear"></div>
                        <div class="create_main">
                            <div class="two_tab_detail two_tab_detail_service" ng-repeat="item in market">
                                <div class="two_tab_l">
                                    <img src="views/service_detail_new/img/hd_pic.png" class="two_tab_pic">
                                    <div class="two_tab_tit">
                                        <span class="two_tab_ellipsis">{{item.metadata.name}}</span>
                                        <span class="two_tab_ellipsis">{{item.spec.description}}</span>
                                    </div>
                                </div>
                                <div class="two_tab_r">
                                    <span class="change_tit">申请</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                </div>
            </div>
            <div ng-show="isShowmodal.miyao">
                <div class="content">
                    <div class="create_secret">
                        <div class="create_secret_input">
                            <p class="ser_name">密钥名称 <i>*</i></p>
                            <div class="input_set">
                                <div class="input_set_l">
                                    <input autocomplete="off"
                                    ng-model="createsercet.secrets.metadata.name"
                                    type="text"
                                    class="input_text"
                                    ng-class="{inputred:error.miyaonameerr.rexed||error.miyaonameerr.repeated}"
                                    placeholder="2-24位小写字母、数字或中划线组成，以数字或小写字母结尾">
                                    <span class="input_close" ng-show="createsercet.secrets.metadata.name!==''"  ng-click="createsercet.secrets.metadata.name=''"></span>
                                </div>
                                <span class="btn_set_new error_btn" ng-show="error.miyaonameerr.repeated"></span>
                                <div class="error_block_tit"  ng-show="error.miyaonameerr.rexed">
                                    <p>2-24位小写字母、数字或中划线组成，以数字或小写字母结尾</p>
                                </div>
                            </div>
                        </div>
                        <p class="ser_name" style="margin-top:34px;">配置密钥<i>*</i></p>
                        <div class="peizhi_input">
                            <ul class="peizhi_name">
                                <li>KEY</li>
                                <li>VALUE</li>
                            </ul>
                            <ul class="peizhi_list">
                                <li ng-repeat="item in createsercet.secrets.secretsarr">
                                    <input  type="text" autocomplete="off" class="four_list_l" placeholder="" ng-model="item.key">
                                    <input  type="text" autocomplete="off" class="four_list_r" ng-disabled="" placeholder="" ng-model="item.value">
                                    <a ng-hide="$index===createsercet.secrets.secretsarr.length-1" href="javascript:void(0)" class="ser_set ser_close two_radius" ng-click="rmsecret($index)"></a>
                                    <a ng-show="$index===createsercet.secrets.secretsarr.length-1" href="javascript:void(0)" class="ser_set ser_add two_radius" ng-click="addSecret()"></a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="two-button">
                    <a href="javascript:void(0)" ng-click="close()">取消</a>
                    <a href="javascript:void(0)" ng-show="error.miyaonameerr.cancreat&&!error.miyaonameerr.repeated&&!error.miyaonameerr.null&&!error.miyaonameerr.rexed" ng-click="postsecret()">立即创建</a>
                    <a href="javascript:void(0)" style="color:#999;cursor: no-drop;" ng-show="!error.miyaonameerr.cancreat||error.miyaonameerr.repeated||error.miyaonameerr.null||error.miyaonameerr.rexed">立即创建</a>
                </div>
            </div>
            <div ng-show="isShowmodal.chijiuhuajuan">
                <div class="content">
                    <div class="cjhj_main">
                        <div class="one_list_block">
                            <p class="one_name">持久化卷名称<i>*</i></p>
                            <div class="input_set input_set_two">
                                <div class="input_set_l">
                                    <input type="text" autocomplete="off"
                                        class="input_text one_input_text ng-pristine ng-untouched ng-valid ng-valid-maxlength"
                                        placeholder="2-24位小写字母、数字或中划线组成，以数字或小写字母结尾"
                                        type="text"
                                        ng-class="{inputred:error.chijiunameerr.rexed||error.chijiunameerr.repeated}"
                                        class="form-control"
                                        ng-model="createvolume.volume.name">
                                    <span class="input_close" ng-show="createvolume.volume.name!==''"  ng-click="createvolume.volume.name=''"></span>
                                </div>
                                <span class="btn_set_new error_btn" ng-show="error.chijiunameerr.repeated"></span>
                                <div class="error_block_tit"  ng-show="error.chijiunameerr.rexed">
                                    <p>2-24位小写字母、数字或中划线组成，以数字或小写字母结尾</p>
                                </div>
                            </div>
                        </div>
                        <div class="clear"></div>
                        <div class="form-group ser_slider" >
                            <div class="one_name one_room">配置容量<i>*</i></div>
                            <div class="slider_right">

                                <p class="enduring_tit">您选择 <span class="price_one">{{slider.value}}</span> GB&emsp;每月花费 <san class="price_one">{{slider.value}}</san> 元</p>
                                <div class="volume_modal">
                                    <rzslider rz-slider-model="slider.value" rz-slider-options="slider.options" ng-model="createvolume.volume.size"></rzslider>
                                </div>
                                <small ng-show="!error.chijiunameerr.cancreat" class="fa fa-info-circle err-tip" style="margin-top: 20px;">
                                    选择数值应在10-200之间(10的倍数)
                                </small>
                            </div>
                        </div>

                    </div>
                </div>
                <div class="two-button">
                    <a href="javascript:void(0)" ng-click="close()">取消</a>
                    <a href="javascript:void(0)" style="color:#999;cursor: no-drop;" ng-show="!error.chijiunameerr.cancreat||error.chijiunameerr.repeated||error.chijiunameerr.null||error.chijiunameerr.rexed">立即创建</a>
                    <a href="javascript:void(0)" ng-show="error.chijiunameerr.cancreat&&!error.chijiunameerr.repeated&&!error.chijiunameerr.null&&!error.chijiunameerr.rexed" ng-click="createvolume.creat()">立即创建</a>
                </div>
            </div>
            <div ng-show="isShowmodal.peizhijuan">
                        <!--<form class="form-horizontal" name="frm" >-->
                <div class="content">
                    <div class="create_secret">
                        <div class="create_secret_input">
                            <p class="ser_name">配置卷名称<i>*</i></p>
                            <div class="input_set">
                                <div class="input_set_l">
                                    <input ng-model="volume.metadata.name" autocomplete="off"
                                           type="text" name="username"
                                           class="input_text"
                                           ng-class="{inputred:error.peizhinameerr.rexed||error.peizhinameerr.repeated}"
                                           placeholder="2-24位小写字母、数字或中划线组成，以数字或小写字母结尾">
                                    <span class="input_close" ng-show="createvolume.volume.name!==''"  ng-click="createvolume.volume.name=''"></span>
                                </div>
                                <div class="error_block_tit"  ng-show="error.peizhinameerr.rexed">
                                    <p>2-24位小写字母、数字或中划线组成，以数字或小写字母结尾</p>
                                </div>
                                <span class="btn_set_new error_btn" ng-show="error.peizhinameerr.repeated"></span>
                                <!--<span class="btn_set_new ok_btn" ng-if="!secretNamerr.rexed &&  !secretNamerr.nil"></span>-->
                            </div>
                        </div>
                        <div class="create_secret_input" style="margin-top:40px">
                            <p class="ser_name">配置方式<i>*</i></p>
                            <div class="input_set">
                                <span class="checkbox_peizhi" ng-class="{'active': !postVolumeScret}" ng-click="checkVolume(false)"><i></i>配置信息</span>
                                <span class="checkbox_peizhi" ng-class="{'active': postVolumeScret}" ng-click="checkVolume(true)"><i></i>上传配置文件</span>
                            </div>
                        </div>
                        <div class="post_secret">
                            <div class="peizhi_input" style="padding-left:96px;margin-top:23px;" ng-show="!postVolumeScret">
                                <ul class="peizhi_name">
                                    <li>KEY</li>
                                    <li>VALUE</li>
                                </ul>
                                <!--<div style="width: 100%;height: 20px;">-->
                                    <!--<small ng-if="grid.keybuhefa" class="err-tip"><i class="fa fa-info-circle"></i>&nbsp;key值不合法</small>-->

                                    <!--<small ng-if="grid.keychongfu" class="err-tip"><i class="fa fa-info-circle"></i>&nbsp;key值重复-->
                                    <!--</small>-->
                                <!--</div>-->
                                <ul class="peizhi_list">
                                    <li ng-repeat="item in volume.configitems" class="scretList">
                                        <div class="four_list_l">
                                            <input  type="text" autocomplete="off"  placeholder="" ng-model="item.key">
                                        </div>
                                        <div class="four_list_r"> <input  type="text" autocomplete="off"  placeholder="" ng-model="item.value"></div>
                                        <a ng-if="$index !== volume.configitems.length-1" ng-click="rmovekv($index)" href="javascript:void(0)" class="ser_set ser_close two_radius"></a>
                                        <a ng-if="$index === volume.configitems.length-1" ng-click="addConfig()" href="javascript:void(0)" class="ser_set ser_add two_radius"></a>
                                    </li>
                                </ul>
                            </div>
                            <div class="peizi_input_two" ng-show="postVolumeScret">
                                <label style="font-weight:normal;">添加文件</label>
                                <ul>
                                    <li ng-repeat="item in volume.configarr">
                                        <div class="row two_con" style="margin:0;">
                                            <div class="col-sm-6" style="padding:0;"><input type="text" ng-model="item.key" style="border:1px solid #e5e5e5;background: #f0f2f3;" disabled="disabled"></div>
                                            <div class="col-sm-2 browse" ng-click="add($index)">浏览文件<input type="file" class="file-input" value="选择"/></div>
                                            <div class="col-sm-2 browse-con" style="margin-left:15px;" ng-click="openValue(item.value)">查看内容</div>
                                            <div class="col-sm-1" >
                                                <a ng-if="$index !== volume.configarr.length-1" ng-click="deletekv($index)" href="javascript:void(0)" class="ser_set ser_close two_radius"></a>
                                                <a ng-if="$index === volume.configarr.length-1" ng-click="addvolume()" href="javascript:void(0)" class="ser_set ser_add two_radius"></a>
                                            </div>
                                        </div>
                                    </li>
                                </ul>
                            </div>

                        </div>
                    </div>
                </div>
                <div class="two-button">
                    <a href="javascript:void(0)" ng-click="close()">取消</a>
                    <!--<a href="javascript:;" ng-if="!frm.$invalid&&grid.configpost" style="background-color: #F8B551; margin-top: 35px; color: white;" ng-click="cearteconfig()">创建配置卷</a>-->
                    <!--<a href="javascript:;" ng-if="!grid.configpost" disabled="disabled" >创建配置卷</a>-->
                    <a href="javascript:void(0);" style="color:#999;cursor: no-drop;" ng-show="!error.peizhinameerr.cancreat||error.peizhinameerr.repeated||error.peizhinameerr.null||error.peizhinameerr.rexed">创建配置卷</a>
                    <a href="javascript:void(0);"  ng-show="error.peizhinameerr.cancreat&&!error.peizhinameerr.repeated&&!error.peizhinameerr.null&&!error.peizhinameerr.rexed"  ng-click="cearteconfig()">创建配置卷</a>
                </div>
               <!--</form>-->
            </div>

        </div>
    </div>
    <div class="clear"></div>
    <div class="scn_top">
        <ul class="scn_jindu">
            <li>
                <div class="circle">
                    <div ng-class="{true: 'active'}[isActive.steptwo]" class="icon1">
                    </div>
                    <span>创建服务</span>
                    1
                </div>
                <div class="solid">
                    <div ng-class="{true: 'active'}[isActive.steptwo]"></div>
                </div>

            </li>
            <li>
                <div class="solid">
                    <div ng-class="{true: 'active'}[isActive.stepthree]"></div>
                </div>
                <div class="circle">
                    <div class="icon2" ng-class="{true: 'active'}[isActive.stepthree]">
                    </div>
                    <span>配置容器</span>
                    2
                </div>
                <div class="solid">
                    <div ng-class="{true: 'active'}[isActive.stepthree]"></div>
                </div>
            </li>
            <li>
                <div class="solid">
                    <div></div>
                </div>
                <div class="circle">
                    <div class="icon3">
                    </div>
                    <span>访问服务</span>
                    3
                </div>

            </li>
        </ul>
    </div>
    <!---------------------------- 模块1 创建服务模块 开始------------------------------->
    <!--ng-show="isShow.step2"-->
    <form class="form-dccreat" name="frm">
    <div class="create_one_block ng-hide" ng-show="isShow.step2">
        <div class="create_one_top">
            <p class="ser_name">服务名称 <i>*</i></p>
            <div class="input_set">
                <div class="input_set_l">
                    <input type="text" autocomplete="off" name="dcname" ng-class="{inputred:error.dcnameerr.rexed||error.dcnameerr.repeated}" ng-blur="error.dcname=true" ng-disabled="updata" ng-focus="error.dcname=false" ng-model="dc.metadata.name" class="input_text ng-valid ng-valid-maxlength ng-dirty ng-valid-parse ng-touched" maxlength="24" placeholder="2-24位小写字母、数字或中划线组成，以数字或小写字母结尾">
                    <span class="input_close" ng-show="dc.metadata.name!==''&&!updata"  ng-click="dc.metadata.name=''"></span>
                </div>
                <span class="disable_tit" ng-show="updata">服务名称暂不支持修改</span>
                <!--<span class="btn_set_new error_btn" style="display:none;"></span>-->
                <span class="btn_set_new error_btn ng-hide" ng-show="error.dcnameerr.repeated"></span>
                <!--<span class="btn_set_new ok_btn" ng-show="frm.dcname.$dirty&amp;&amp;!error.dcnameerr.repeated&amp;&amp;!error.dcnameerr.null&amp;&amp;!error.dcnameerr.rexed"></span>-->
                <div class="error_block_tit ng-hide" ng-show="error.dcnameerr.rexed">
                    <p>2-24位小写字母、数字或中划线组成，以数字或小写字母结尾</p>
                </div>



            </div>
        </div>
        <span class="ser_next_one mt36 ser_next_gray two_radius ng-hide" ng-show="error.dcnameerr.repeated||error.dcnameerr.null||error.dcnameerr.rexed">下一步</span>
        <!--<div class="clear"></div>-->
        <span class="ser_next_one mt36 ser_next_active two_radius" ng-show="!error.dcnameerr.repeated&&!error.dcnameerr.null&&!error.dcnameerr.rexed&&isResolving.step2" ng-click="nexttwo(2)">下一步</span>

        <span class="next_one_load" ng-show="!isResolving.step2"><i></i>加载中...</span>
    </div>
    <!---------------------------- 模块1 创建服务模块 结束------------------------------->

    <!---------------------------- 模块2 配置容器模块 开始------------------------------->
        <!--ng-show="!isShow.step2&&isShow.step3"-->
    <div class="create_two_block" ng-show="!isShow.step2&&isShow.step3">
        <div ng-repeat="container in dc.spec.template.spec.containers">
            <div class="block_one"   ng-hide="dc.spec.template.spec.containers[$index].retract" >
                <div class="one_btn clboth">
                    <a href="javascript:void(0)" class="one_del" ng-click="delcon($index)" ng-class="{active:dc.spec.template.spec.containers.length==1}">删除</a>
                    <a href="javascript:void(0)" class="one_pack" ng-show="!dc.spec.template.spec.containers[index].retract" ng-click="pickup($index)">收起</a>
                </div>
                <div class="one_list clboth">
                    <div class="one_list_block">
                        <p class="one_name" style="line-height:30px;">容器名称 <i>*</i></p>
                        <div class="input_set input_set_two">
                            <div class="input_set_l">
                                <input type="text" autocomplete="off" ng-model="container.name" class="input_text one_input_text ng-valid ng-valid-maxlength ng-dirty ng-valid-parse ng-touched"
                                       ng-class="{inputred:container.namerr.rexed||container.namerr.repeated}"  ng-disabled="container.updata"  maxlength="24" placeholder="2-24位小写字母、数字或中划线组成，以数字或小写字母结尾">
                                <span class="input_close" ng-show="container.name!==''&&!updata"  ng-click="container.name=''"></span>
                            </div>
                            <span class="btn_set_new error_btn ng-hide" ng-show="container.namerr.repeated"></span>
                            <!--<span class="btn_set_new ok_btn" ng-show="!error.dcnameerr.repeated&&!error.dcnameerr.null&&!error.dcnameerr.rexed"></span>-->
                            <div class="error_block_tit ng-hide" ng-show="container.namerr.rexed">
                                <p>2-24位小写字母、数字或中划线组成，以数字或小写字母结尾</p>
                            </div>
                        </div>
                    </div>
                    <div class="clboth_ten"></div>
                    <div class="one_list_block clboth add_mb15">
                        <p class="one_name">添加镜像 <i>*</i></p>
                        <span class="two_detail">镜像是容器运行的前提，配置容器前请确保已经选择镜像。</span>
                    </div>
                    <div class="one_list_block clboth one_list_jl">
                        <div class="two_tab_detail" ng-show="container.imaged">
                            <div class="two_tab_l" >
                                <img src="views/service_detail_new/img/nor_pic.png" class="two_tab_pic">
                                <div class="two_tab_tit">
                                    <span class="two_tab_ellipsis">{{container.imaged.metadata.name}}</span>
                                    <!--<span class="two_tab_ellipsis">{{container.imaged.metadata.name}}是开源的消息是开源的消息</span>-->
                                </div>
                            </div>

                            <div class="two_tab_r">
                                <span class="version_tit">版本</span>
                                <div class="service_area_select two_radius">
                                    <div uib-dropdown on-toggle="toggled(open)" class="jx_toggle">
                                        <a href="javascript:void(0);" class="service_block" uib-dropdown-toggle>
                                            <span class="service_per_tit service_copy_tit two_tab_ellipsis">{{container.imaged.checkbox}}</span>
                                            <b class="ser_bg_btn"></b>
                                        </a>
                                        <ul class="service_drop" uib-dropdown-menu aria-labelledby="user-menu">
                                            <li class="zx_active"  ng-repeat="tag in container.imaged.status.tags" ng-click="container.imaged.checkbox=tag.tag"><a href="javascript:void(0);"><span class="service_per_tit service_copy_tit two_tab_ellipsis" title="{{tag.tag}}">{{tag.tag}}</span></a></li>
                                            <!--<li><a href="javascript:void(0);"><span>3.11</span></a></li>-->
                                            <!--<li><a href="javascript:void(0);"><span>3.12</span></a></li>-->
                                        </ul>

                                    </div>
                                </div>
                                <span class="change_tit" ng-click="openModal('选择镜像','selectimage',$index)">更改</span>
                            </div>
                        </div>

                        <div class="tab_select"ng-hide="container.imaged.metadata" ng-click="openModal('选择镜像','selectimage',$index)">
                            <span class="tab_select_tit">选择镜像</span>
                        </div>


                </div>
                <div class="clboth_ten"></div>
                <div class="one_list_block clboth">
                    <div class="three_top add_mb15">
                        <p class="one_name">镜像端口</p>
                        <span class="two_detail">可以增加镜像中未定义的端口。</span>
                    </div>
                    <div class="input_set" style="float: none;padding-left:92px;">
                        <span class="checkbox_peizhi" ng-class="{'active': container.isOwnerI}" style="margin-right: 106px;" ng-click="container.isOwnerI=!container.isOwnerI"><i></i>默认端口</span>
                        <span class="checkbox_peizhi" ng-class="{'active': !container.isOwnerI}" ng-click="container.isOwnerI=!container.isOwnerI"><i></i>自定义端口</span>
                    </div>
                    <div class="serImgTop" style="padding-left:92px;overflow: hidden;padding-top:8px;">
                        <div>容器端口</div>
                        <div>服务端口</div>
                    </div>
                    <div style="overflow: hidden;" ng-show="container.isOwnerI">
                        <ul class="three_list three_list_room">
                            <!--<li>容器端口：</li>-->
                            <li><span class="room_tit">{{container.containerPort}}</span></li>

                        </ul>

                        <ul class="three_list three_list_serivce">
                            <!--<li>服务端口：</li>-->
                            <li><span class="room_tit">{{container.hostPort}}</span></li>
                        </ul>
                    </div>
                    <div style="overflow: hidden;" ng-show="!container.isOwnerI">
                        <ul style="overflow: hidden;padding-left: 92px;">
                            <li class="ownerSL"  ng-repeat="port in container.port">
                                <div>
                                    <input type="text" autocomplete="off" placeholder="" ng-model="port.hostPort">
                                </div>
                                <div > <input type="text" autocomplete="off" placeholder="" ng-model="port.containerPort" ></div>
                                <a ng-click="delport(container.port,$index)" ng-show="$index!==container.port.length-1" href="javascript:void(0)" class="ser_set ser_close two_radius"></a>
                                <a ng-click="addport(container.port)" ng-show="$index===container.port.length-1" href="javascript:void(0)" class="ser_set ser_add two_radius"></a>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="adv_set clboth">
                    <p class="adv_tit" ng-show="!container.othersetting" ng-click="changed(container)">高级设置</p>
                </div>
                    <!--ng-show="container.othersetting"-->
                <div class="adv_set_detail" ng-show="container.othersetting">
                <!--环境变量模块-->
                <div class="one_list_block clboth mt_ten">
                    <div class="three_top add_mb15">
                        <p class="one_name">环境变量</p>
                        <span class="two_detail">通过变量为应用动态地传递配置信息。<i class="four_question" style="display:none;">如何进行端口配置？</i></span>
                    </div>
                    <ul class="four_name">
                        <li>键</li>
                        <li>值</li>
                    </ul>
                    <ul class="four_list" style="margin-top:10px;">
                        <li ng-repeat="envitem in container.env">
                            <input ng-model="envitem.name" type="text" class="four_list_l">
                            <input ng-model="envitem.value" type="text" class="four_list_r">
                            <a ng-click="delenv(container.env,$index)" ng-show="$index!==container.env.length-1" href="javascript:void(0)" class="ser_set ser_close two_radius"></a>
                            <a ng-click="addenv(container.env)" ng-show="$index===container.env.length-1" href="javascript:void(0)" class="ser_set ser_add two_radius"></a>
                        </li>
                        <!--<li>-->
                            <!--<input type="text" class="four_list_l" placeholder="请输入'键'">-->
                            <!--<input type="text" class="four_list_r" placeholder="请输入'值'">-->
                            <!---->
                        <!--</li>-->

                                <li></li>
                            </ul>
                        </div>

                        <!-- 挂载数据卷模块-->
                        <div class="one_list_block clboth mt_ten" style="margin-top:20px;">
                            <div class="three_top add_mb15">
                                <p class="one_name">挂载持久化卷</p>
                                <span class="two_detail">为确保容器重启后数据不会丢失，可以为数据所在的容器路径挂载一个持久化卷。</span>
                            </div>
                            <ul class="four_name">
                                <li>持久化卷</li>
                                <li>挂载路径</li>
                            </ul>
                            <ul class="four_list four_list_two" style="margin-top:10px;">
                                <li ng-repeat="persistentitem in container.secretsobj.persistentarr">
                                    <div class="service_area_select service_area_select_gj two_radius">
                                        <div uib-dropdown>
                                            <a href="javascript:void(0);" class="service_block" uib-dropdown-toggle>
                                                <span class="service_per_tit two_tab_ellipsis">{{persistentitem.persistentVolumeClaim.claimName}}</span>
                                                <b class="ser_bg_btn"></b>
                                            </a>
                                            <ul class="service_drop service_drop_gj" uib-dropdown-menu aria-labelledby="user-menu">
                                                <li class="zx_active" ng-repeat="item in persistentite" ng-click="persistened(persistentitem,item.metadata.name)">
                                                    <a href="javascript:void(0);">
                                                        <span class="drop_name_tit two_tab_ellipsis" ng-class="{colored:item.metadata.name===persistentitem.persistentVolumeClaim.claimName}" title="{{item.metadata.name}}">{{item.metadata.name}}</span></a>
                                                </li>

                                            </ul>

                                        </div>
                                    </div>
                                    <input type="text"  ng-blur="secretblur(persistentitem)"  class="four_list_r four_list_r_two" ng-model="persistentitem.mountPath" placeholder="">
                                    <a ng-click="delpersistent(container.secretsobj.persistentarr,$index)"  ng-show="$index!==container.secretsobj.persistentarr.length-1" href="javascript:void(0)" class="ser_set ser_close two_radius"></a>
                                    <a ng-click="addpersistent(container.secretsobj.persistentarr)" ng-show="$index===container.secretsobj.persistentarr.length-1" href="javascript:void(0)" class="ser_set ser_add two_radius"></a>
                                </li>
                            </ul>
                        </div>
                        <p class="set_add_service clboth" ng-click="openModal('创建持久化卷','chijiuhuajuan')">创建持久化卷</p>
                        <div class="clboth_two"></div>
                        <!--挂载配置卷模块-->
                        <div class="one_list_block clboth mt_ten">
                            <div class="three_top add_mb15">
                                <p class="one_name">挂载配置卷</p>
                                <span class="two_detail">为了减少由于程序中的配置文件发生改变而引起的重新打包构建，可以将容器中的配置文件挂载出来，当配置文件发生改变时，不需要重新构建代码，直接部署服务即可。</span>
                            </div>
                            <ul class="four_name">
                                <li>配置卷</li>
                                <li>挂载路径</li>
                            </ul>
                            <ul class="four_list four_list_two" style="margin-top:10px;">
                                <li ng-repeat="config in container.secretsobj.configmap">
                                    <div class="service_area_select service_area_select_gj two_radius">
                                        <div uib-dropdown on-toggle="toggled(open)">
                                            <a href="javascript:void(0);" class="service_block" uib-dropdown-toggle>
                                                <span class="service_per_tit two_tab_ellipsis" title="{{config.configMap.name}}">{{config.configMap.name}}</span>
                                                <b class="ser_bg_btn"></b>
                                            </a>
                                            <ul class="service_drop service_drop_gj" uib-dropdown-menu aria-labelledby="user-menu">
                                                <li class="zx_active" ng-repeat="item in configmap" ng-click="configmaped(config,item.metadata.name)">
                                                    <a href="javascript:void(0);">
                                                        <span class="drop_name_tit two_tab_ellipsis" ng-class="{colored:item.metadata.name===config.configMap.name}" title="{{item.metadata.name}}">{{item.metadata.name}}</span>
                                                    </a></li>
                                                <!--<li><a href="javascript:void(0);"><span>data1</span></a></li>-->
                                                <!--<li><a href="javascript:void(0);"><span>data2</span></a></li>-->
                                            </ul>

                                        </div>
                                    </div>
                                    <input type="text" ng-blur="secretblur(config)" class="four_list_r four_list_r_two" ng-model="config.mountPath" placeholder="">
                                    <a ng-click="delconfigmap(container.secretsobj.configmap)" href="javascript:void(0)" ng-show="$index!==container.secretsobj.configmap.length-1" class="ser_set ser_close two_radius"></a>
                                    <a ng-click="addconfigmap(container.secretsobj.configmap)" href="javascript:void(0)" ng-show="$index===container.secretsobj.configmap.length-1" class="ser_set ser_add two_radius"></a>
                                </li>

                            </ul>
                        </div>
                        <p class="set_add_service clboth" ng-click="openModal('创建配置卷','peizhijuan')">创建配置卷</p>
                        <div class="clboth_two"></div>
                        <!--挂载密钥模块-->
                        <div class="one_list_block clboth mt_ten">
                            <div class="three_top add_mb15">
                                <p class="one_name">挂载密钥</p>
                                <span class="two_detail">这里用来将敏感配置传递给容器，例如代码库的用户名和密码。<i class="four_question" style="display:none;">如何进行端口配置？</i></span>
                            </div>
                            <ul class="four_name">
                                <li>密钥</li>
                                <li>挂载路径</li>
                            </ul>
                            <ul class="four_list four_list_two" style="margin-top:10px;">
                                <li ng-repeat="secret in container.secretsobj.secretarr">
                                    <div class="service_area_select service_area_select_gj two_radius">
                                        <div uib-dropdown on-toggle="toggled(open)">
                                            <a href="javascript:void(0);" class="service_block" uib-dropdown-toggle>
                                                <span class="service_per_tit two_tab_ellipsis" title="{{secret.secret.secretName}}">{{secret.secret.secretName}}</span>
                                                <b class="ser_bg_btn"></b>
                                            </a>
                                            <ul class="service_drop service_drop_gj" uib-dropdown-menu aria-labelledby="user-menu">
                                                <li class="zx_active" ng-repeat="item in secretsitems" ng-click="secretsed(secret,item.metadata.name)">
                                                    <a href="javascript:void(0);">
                                                        <span class="drop_name_tit two_tab_ellipsis" ng-class="{colored:item.metadata.name===secret.secret.secretName}" title="{{item.metadata.name}}">{{item.metadata.name}}</span>
                                                    </a></li>
                                                <!--<li><a href="javascript:void(0);"><span>data1</span></a></li>-->
                                                <!--<li><a href="javascript:void(0);"><span>data2</span></a></li>-->
                                            </ul>

                                        </div>
                                    </div>
                                    <input type="text" ng-blur="secretblur(secret)" ng-model="secret.mountPath" class="four_list_r four_list_r_two" placeholder="">
                                    <a  ng-click="delsecret(container.secretsobj.secretarr)" ng-show="$index!==container.secretsobj.secretarr.length-1" href="javascript:void(0)" class="ser_set ser_close two_radius"></a>
                                    <a  ng-click="addsecret(container.secretsobj.secretarr)" ng-show="$index===container.secretsobj.secretarr.length-1" href="javascript:void(0)" class="ser_set ser_add two_radius"></a>
                                </li>
                            </ul>
                        </div>
                        <p class="set_add_service clboth" ng-click="openModal('创建密钥','miyao')">创建密钥</p>
                        <div class="clboth_two"></div>
                        <!--启动命令模块-->
                        <div class="one_list_block clboth mt_ten">
                            <div class="three_top add_mb15">
                                <p class="one_name">启动命令</p>
                                <span class="two_detail">这里定义的启动命令将会覆盖镜像中定义的启动命令，如果不需要，请不要填写。<i class="four_question" style="display:none;">如何进行端口配置？</i></span>
                            </div>
                            <input type="text" ng-model="container.args" class="four_list_r four_list_three" placeholder="如：/usr/sbin/sshd -D">
                        </div>
                        <div class="clear"></div>
                    </div>
                </div>
            </div>

            <div class="block_two"  ng-show="dc.spec.template.spec.containers[$index].retract">
                <div class="block_two_l">
                    <img src="views/service_detail_new/img/nor_pic.png" class="select_tu">
                    <span class="select_mirror" ng-show="!container.imaged">未选择镜像</span>
                    <span class="select_mirror" ng-show="container.imaged">{{container.name}}</span>
                </div>
                <div class="block_two_r">
                    <span class="bx_tit"  ng-show="!container.imaged">必须选择镜像</span>
                    <span class="select_open" ng-click="pickdown($index)">展开</span>
                </div>
            </div>
        </div>
        <p class="add_container clboth" ng-click=addcon()>新增容器</p>
        <span class="ser_btn ser_back_btn mt14 two_radius" ng-click="preStep()">上一步</span>
        <!--<span class="ser_btn ser_next_btn mt14 two_radius" ng-click="nextthree(3)">下一步</span>-->
        <span class="ser_btn ser_next_btn mt14 two_radius ng-hide" ng-show="stepup.two&&isResolving.step3" ng-click="nextthree(3)">下一步</span>
        <span class="ser_next_one mt14 ser_next_gray two_radius" style="margin-left: 20px;" ng-show="!stepup.two">下一步</span>
        <span class="next_one_load" style="margin-top: 14px;margin-left: 20px;" ng-show="!isResolving.step3"><i></i>加载中...</span>

    </div>

    <!---------------------------- 模块2 配置容器模块 结束------------------------------->
    <!---------------------------- 模块3 访问服务模块 开始------------------------------->
        <!--ng-show="!isShow.step3"-->
    <div class="create_three_block" ng-show="!isShow.step3">

    <!--<div class="create_three_block" ng-show="true">-->
        <div class="create_top">
            <div class="zyxz">
                <div class="left">
                    <p class="ser_name_left">资源限制</p>
                </div>
                <div class="right">
                    <p class="ser_name_right">在套餐范围内为容器定义CPU和内存使用限制</p>
                    <div class="row">
                        <div class="col-xs-2" style="padding-left: 15px;">
                            <span>容器名称</span>
                        </div>
                        <div class="col-xs-2">
                            <span>CPU总量（{{requests.cpu}}核）</span>
                        </div>
                        <div class="col-xs-2">
                            <span>内存总量（{{requests.memory}}GB）</span>
                        </div>
                        <div class="col-xs-2">
                            <span>服务副本数</span>
                        </div>
                        <div class="col-xs-2">
                            <span>已用CPU</span>
                        </div>
                        <div class="col-xs-2">
                            <span>已用内存</span>
                        </div>
                    </div>
                    <div class="dingwei">
                        <div class="abosolute-cheng">
                            <div class="area_select two_radius" ng-class="{'hasrelative':dc.spec.template.spec.containers.length>1}">
                                <span class="chenghao"></span>
                                <div uib-dropdown on-toggle="toggled(open)" class="three_step">
                                    <a href="javascript:void(0);" class="service_block" uib-dropdown-toggle>
                                        <span class="mleft service_per_tit service_copy_tit two_tab_ellipsis">{{dc.spec.replicas}}个</span>
                                        <b class="xl_bg"></b>
                                    </a>
                                    <ul class="dropdown-menu zx_area_drop" uib-dropdown-menu aria-labelledby="user-menu">
                                        <li ng-repeat="time in copy" ng-click="dc.spec.replicas=time.times">
                                            <a href="javascript:void(0);">
                                                <span class="service_per_tit service_copy_tit two_tab_ellipsis" ng-class="{colored:time.times===dc.spec.replicas}" title="{{time.times}}">{{time.times}}个</span>
                                            </a></li>
                                    </ul>

                                </div>
                            </div>
                        </div>
                        <div class="row" ng-repeat="container in dc.spec.template.spec.containers" >
                            <div class="col-xs-2" style="padding-left:15px;padding-right:0px">
                                <img src="views/service_detail_new/img/nor_pic.png" class="img_oo">
                                <span style="display:inline-block;height:23px;width:57px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden" title="{{container.name}}">{{container.name}}</span>
                            </div>
                            <div class="col-xs-2">
                                <input type="text" ng-model="container.resources.limits.cpu"   placeholder="">
                            </div>
                            <div class="col-xs-2">
                                <input type="text" ng-model="container.resources.limits.memory"  placeholder="">
                            </div>
                            <div class="col-xs-2">

                            </div>
                            <div class="col-xs-2">
                                {{container.resources.limits.cpu*dc.spec.replicas}}核
                            </div>
                            <div class="col-xs-2">
                                {{container.resources.limits.memory*dc.spec.replicas}}GB
                            </div>
                        </div>
                    </div>
                    <!--<div class="row">-->
                        <!--<div class="col-xs-2" style="padding-right:0;">-->
                            <!--<i class="img_oo"></i><span>datafoundry</span>-->
                        <!--</div>-->
                        <!--<div class="col-xs-2">-->
                            <!--<input type="text" placeholder="1-16内的整数">-->
                        <!--</div>-->
                        <!--<div class="col-xs-2">-->
                            <!--<input type="text" placeholder="1-32内的整数">-->
                        <!--</div>-->
                        <!--<div class="col-xs-2">-->

                        <!--</div>-->
                        <!--<div class="col-xs-2">-->
                            <!--1核-->
                        <!--</div>-->
                        <!--<div class="col-xs-2">-->
                            <!--2GB-->
                        <!--</div>-->
                    <!--</div>-->
                    <div class="row bottom_heji" style="margin-bottom:24px;;">
                        <div class="col-xs-2 col-xs-offset-6">
                            合计资源
                        </div>
                        <div class="col-xs-2">
                            已用 <span>{{requests.usecpu}}</span>核/可用 <span>{{requests.residuecpu}}</span> 核
                            <div class="error_block_tip" ng-show="error.reqerr.cpuerr">
                                <p>超出最大可用资源</p>
                            </div>
                        </div>
                        <div class="col-xs-2" style="white-space: nowrap">
                            已用 <span>{{requests.usememory}}</span>GB/可用 <span>{{requests.residuememory}}</span> GB
                            <div class="error_block_tip" ng-show="error.reqerr.memoryerr" >
                                <p>超出最大可用资源</p>
                            </div>
                        </div>

                    </div>
                </div>
            </div>

        </div>
        <div class="create_top clboth" style="margin-bottom: 52px;">
            <div class="left">
                <p class="ser_name_left">重启策略</p>
            </div>
            <div class="right">
                <p class="ser_name_right">Always</p>
                    <!--<div class="area_select">-->
                        <!--<div uib-dropdown on-toggle="toggled(open)">-->
                            <!--<a href="javascript:void(0);" class="service_block" uib-dropdown-toggle>-->
                                <!--<span class="mleft">Always</span>-->
                                <!--<b class="xl_bg"></b>-->
                            <!--</a>-->
                            <!--<ul class="dropdown-menu zx_area_drop" uib-dropdown-menu aria-labelledby="user-menu">-->
                                <!--&lt;!&ndash;<li class="zx_active"><a href="javascript:void(0);"><span>1</span></a></li>&ndash;&gt;-->
                                <!--&lt;!&ndash;<li><a href="javascript:void(0);"><span>2</span></a></li>&ndash;&gt;-->
                                <!--&lt;!&ndash;<li><a href="javascript:void(0);"><span>3</span></a></li>&ndash;&gt;-->
                            <!--</ul>-->

                        <!--</div>-->
                    <!--</div>-->
            </div>
        </div>

        <!-- 挂载后端服务模块-->
        <div class="one_list_block clboth" style="margin-bottom:7.5px;">
            <p class="one_name" style="color:#666;">挂载后端服务</p>
            <span class="two_detail">此处可以绑定应用与在平台中申请的诸如Mysql、HDFS、MongoDB等服务。<i class="four_question" style="display:none;">什么是后端服务？</i></span>
        </div>

        <div class="one_list_block clboth one_list_jl">
            <div class="two_tab_detail two_tab_detail_service" ng-repeat="bsi in bsi.check">
                <div class="two_tab_l">
                    <img src="views/service_detail_new/img/hd_pic.png" class="two_tab_pic">
                    <div class="two_tab_tit">
                        <span class="two_tab_ellipsis">{{bsi.metadata.name}}</span>
                        <!--<span class="two_tab_ellipsis">{{bsi.metadata.name}} 是开源的消息是开源的消息</span>-->
                    </div>
                </div>

                <div class="two_tab_r">
                    <span class="change_tit" ng-click="openModal('后端服务','backservice')">更改</span>
                </div>
            </div>


            <div class="tab_select tab_select_service" ng-click="openModal('后端服务','backservice')">
                <span class="tab_select_tit tab_select_tit_two">选择后端服务</span>
            </div>


        </div>
        <!--<p class="set_add_service clboth" ng-click="openModal('申请后端服务','createservice')">申请后端服务</p>-->

        <div class="clear_three"></div>
        <div class="create_top clboth">
            <div class="left">
                <p class="ser_name_left">域名设置</p>
            </div>
            <div class="right">
                <p class="ser_name_right font_normal">
                    定义服务的访问地址，当前一个域名只支持一个端口，若需要访问多个端口，可以定义多个域名来映射端口。
                    <i class="four_question" style="display:none;">如何进行端口配置？</i>
                </p>
                <div class="row" style="margin-bottom: 4px">
                    <div class="col-xs-3" style="line-height:23px;">
                        端口协议
                    </div>
                    <div class="col-xs-9" style="line-height:23px;">
                        域名
                    </div>
                </div>
                <div class="row" style="margin-bottom: 24px;">
                    <div class="col-xs-3">
                        <div class="cqcl">
                            <div class="area_select">
                                <div uib-dropdown on-toggle="toggled(open)">
                                    <a href="javascript:void(0);" class="service_block" uib-dropdown-toggle>
                                        <span class="mleft service_per_tit two_tab_ellipsis" title="{{routeconf.checkcon}}&nbsp;&nbsp;{{routeconf.checkport}}">{{routeconf.checkcon}}&nbsp;&nbsp;{{routeconf.checkport}}</span>
                                        <b class="xl_bg"></b>
                                    </a>
                                    <ul class="dropdown-menu zx_area_drop zx_area_drop_jia" uib-dropdown-menu aria-labelledby="user-menu">
                                        <li class="zx_active" ng-repeat="route in dc.spec.template.spec.containers" ng-show="route.isOwnerI&&route.hostPort" ng-click="routeconf.checkcon=route.name;routeconf.checkport=route.hostPort">
                                            <a href="javascript:void(0);">
                                                <span class="drop_name_tit two_tab_ellipsis" title="{{route.name}}&nbsp;&nbsp;{{route.hostPort}}">{{route.name}}&nbsp;&nbsp;{{route.hostPort}}</span>
                                            </a></li>
                                        <li class="zx_active" ng-repeat="route in conport" ng-show="!route.isOwnerI" ng-click="routeconf.checkcon=route.name;routeconf.checkport=route.hostPort">
                                            <a href="javascript:void(0);">
                                                <span class="drop_name_tit two_tab_ellipsis" title="{{route.name}}&nbsp;&nbsp;{{route.hostPort}}">{{route.name}}&nbsp;&nbsp;{{route.hostPort}}</span>
                                            </a></li>
                                        <!--<li><a href="javascript:void(0);"><span>2</span></a></li>-->
                                        <!--<li><a href="javascript:void(0);"><span>3</span></a></li>-->
                                    </ul>

                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-xs-9">
                        <input type="text" ng-model="routeconf.host" class="ymqz_input" ng-focus="ymqzfocus()"ng-blur="ymqzblur()" placeholder="域名前缀">
                        <b  class="houzui">
                            {{routeconf.suffix}}
                        </b>
                    </div>
                </div>
            </div>
        </div>



        <div class="create_top clboth">
            <div class="left">
                <p class="ser_name_left">自动部署</p>
            </div>
            <div class="right">
                <p class="ser_name_right font_normal">
                    这里有以下两种触发自动部署的条件。
                </p>
                <div class="row" style="margin-bottom:0px;">
                    <div class="col-xs-3" style="line-height:23px;width:180px;padding-left:0px;margin-left: 15px;">
                        <i class="checkbox_info" ng-click="changebuild.ConfigChange=!changebuild.ConfigChange" ng-class="{active:changebuild.ConfigChange}"></i>
                        <span class="pz_label">配置变化触发自动部署</span>
                    </div>
                    <div class="col-xs-9" style="line-height:23px; padding-left:0px">
                        <i class="four_question">修改服务的某项配置后，将自动重新部署服务</i>
                    </div>
                </div>
                <div class="row" ng-show="error.image!=='our'">
                    <div class="col-xs-3" style="line-height:23px;width:180px;padding-left:0px;margin-left: 15px;">
                        <i class="checkbox_info" ng-click="changebuild.ImageChange=!changebuild.ImageChange" ng-class="{active:changebuild.ImageChange}"></i>
                        <span class="pz_label">镜像变化触发自动部署</span>
                    </div>
                    <div class="col-xs-9" style="line-height:23px;padding-left:0px">
                        <i class="four_question">重新构建代码后，将自动部署新的镜像</i>
                    </div>
                </div>
            </div>
        </div>
        <div class="create_top clboth">
            <span class="ser_btn ser_back_btn mt14 two_radius" ng-click="preStep()">上一步</span>
            <span class="ser_btn ser_next_btn mt14 two_radius" ng-click="creat()" ng-show="isCreate">{{btnText.one}}</span>
            <span class="next_one_load" style="margin-top:14px;margin-left:20px" ng-show = "!isCreate&&!isComplete"><i></i>{{btnText.two}}</span>
            <span class="ser_btn ser_next_btn mt14 two_radius create_complete" ng-show="isComplete"><i></i>{{btnText.three}}</span>
        </div>
    </div>
    <!---------------------------- 模块3 访问服务模块 结束------------------------------->
    </form>
</div>
